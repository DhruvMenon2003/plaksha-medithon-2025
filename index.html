<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plaksha Medithon 2025</title>
  <!-- Tailwind CSS via CDN for rapid styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- html2canvas and jsPDF for PDF export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNa5gicsAyzM1dR7Sqxipa4Pq3W4k6e+vj0XYnYwYha+zCdSTYb93sdQsrV4XwlGpGGmC/uxEBCx1+1jXydAiA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-Yl+ftRZau9PP3Y+B/uB0Mye9/O2Y5F6fiK392qAFVY+8YKqj18wuhzc++gOT8v6ITUXV8PtEt+XkS3kVpWp0ug==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <style>
    /* Custom styles replicating original flyer aesthetic */
    body {
      background-color: #F2F0EC;
      font-family: 'Open Sans', sans-serif;
    }
    .flyer-container {
      max-width: 8.5in;
      min-height: 11in;
      margin: 1rem auto;
      padding: 1rem;
      background-color: white;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      position: relative;
    }
    [contenteditable="true"]:hover {
      outline: 2px dashed #00A0B4;
      background-color: #f0f8ff;
    }
    /* Hide the file inputs, we trigger them via the images */
    .image-input {
      display: none;
    }
    .editable-image {
      cursor: pointer;
    }
  </style>
</head>
<body class="bg-gray-100">
  <!-- Export button -->
  <div class="text-center my-4">
    <button id="exportBtn" class="px-4 py-2 bg-[#007878] text-white rounded-lg hover:bg-[#006060] focus:outline-none">Export to PDF</button>
  </div>

  <div id="flyer" class="flyer-container">
    <!-- Header Section -->
    <header class="mb-8 flex items-center justify-between">
      <div class="w-1/4 flex justify-center">
        <!-- Logo image is editable: click to choose another file -->
        <img id="logoImg" src="https://via.placeholder.com/150" alt="Logo" class="w-32 editable-image">
        <input type="file" accept="image/*" id="logoInput" class="image-input">
      </div>
      <div class="w-1/2 text-center">
        <h1 class="text-2xl font-bold text-[#007878]" contenteditable="true">Plaksha MediThon 2025</h1>
        <h2 class="text-xl font-bold text-[#00A0B4] mt-2" contenteditable="true">Join now to innovate Healthcare!</h2>
      </div>
      <div class="w-1/4"></div>
    </header>

    <!-- Introduction -->
    <p class="text-sm text-left text-[#333] mb-6" contenteditable="true">
      <strong>If Engineers, Doctors and Scientists are ready to nucleate healthcare transforming ideas over a single weekend, here is why you should join our upcoming Health‑tech Hackathon.</strong>
    </p>

    <!-- Impact Stories Section -->
    <section class="mb-8">
      <h3 class="text-lg font-bold text-center text-[#00A0B4] mb-4 border-b-2 border-[#00A0B4] pb-2" contenteditable="true">Real‑world Impact Stories</h3>
      <div class="grid md:grid-cols-3 gap-6 items-start">
        <!-- Story 1 -->
        <div class="text-center">
          <img id="img1" src="https://via.placeholder.com/300x200" alt="Story 1" class="w-full mb-2 rounded-lg editable-image">
          <input type="file" accept="image/*" id="img1Input" class="image-input">
          <p class="text-sm text-left text-[#333]" contenteditable="true">
            📌<strong> At an MIT Hackathon, a small team built a solution to simplify medication delivery. PillPack later acquired by Amazon.</strong>
          </p>
        </div>
        <!-- Story 2 -->
        <div class="text-center">
          <img id="img2" src="https://via.placeholder.com/300x200" alt="Story 2" class="w-full mb-2 rounded-lg editable-image">
          <input type="file" accept="image/*" id="img2Input" class="image-input">
          <p class="text-sm text-left text-[#333]" contenteditable="true">
            📌<strong> From a diabetes‑focused hackathon in India, a passionate team created Jana Care — acquired by Siemens Healthineers.</strong>
          </p>
        </div>
        <!-- Story 3 -->
        <div class="text-center">
          <img id="img3" src="https://via.placeholder.com/300x200" alt="Story 3" class="w-full mb-2 rounded-lg editable-image">
          <input type="file" accept="image/*" id="img3Input" class="image-input">
          <p class="text-sm text-left text-[#333]" contenteditable="true">
            📌<strong>The Augmented Infant Resuscitator (AIR), developed in 48 hours at CAMTech/MGH MediThon in Uganda, is now backed by $1M+ funding and saving newborns.</strong>
          </p>
        </div>
      </div>
    </section>

    <!-- Key Features Section -->
    <section class="grid md:grid-cols-2 gap-8 mb-8">
      <!-- Column 1 -->
      <div>
        <div class="flex items-center mb-4">
          <img id="icon1" src="https://via.placeholder.com/64" alt="Collaboration" class="w-16 h-16 mr-4 editable-image">
          <input type="file" accept="image/*" id="icon1Input" class="image-input">
          <h2 class="text-md font-bold text-[#00A0B4]" contenteditable="true">Break down silos</h2>
        </div>
        <div class="flex items-center mb-4">
          <img id="icon2" src="https://via.placeholder.com/64" alt="Rapid Prototyping" class="w-16 h-16 mr-4 editable-image">
          <input type="file" accept="image/*" id="icon2Input" class="image-input">
          <h2 class="text-md font-bold text-[#00A0B4]" contenteditable="true">Rapid Prototyping</h2>
        </div>
        <div class="flex items-center">
          <img id="icon3" src="https://via.placeholder.com/64" alt="Local Solutions" class="w-16 h-16 mr-4 editable-image">
          <input type="file" accept="image/*" id="icon3Input" class="image-input">
          <h2 class="text-md font-bold text-[#00A0B4]" contenteditable="true">Low Cost, Locally Relevant Solutions</h2>
        </div>
      </div>
      <!-- Column 2 -->
      <div>
        <div class="flex items-center mb-4">
          <img id="icon4" src="https://via.placeholder.com/64" alt="Post Hackathon" class="w-16 h-16 mr-4 editable-image">
          <input type="file" accept="image/*" id="icon4Input" class="image-input">
          <h2 class="text-md font-bold text-[#00A0B4]" contenteditable="true">Post‑hackathon Support</h2>
        </div>
        <div class="flex items-center">
          <img id="icon5" src="https://via.placeholder.com/64" alt="Networking" class="w-16 h-16 mr-4 editable-image">
          <input type="file" accept="image/*" id="icon5Input" class="image-input">
          <h2 class="text-md font-bold text-[#00A0B4]" contenteditable="true">Expand your Network</h2>
        </div>
      </div>
    </section>

    <!-- Who Should Attend Section -->
    <section class="mb-8 bg-[#F2F2F2] p-6 rounded-lg">
      <h3 class="text-lg font-bold text-[#00A0B4] mb-4" contenteditable="true">Who should attend:</h3>
      <div class="grid md:grid-cols-2 gap-8 mb-8">
        <div>
          <div class="flex items-center mb-4">
            <img id="who1" src="https://via.placeholder.com/64" alt="Engineers" class="w-16 h-16 mr-4 editable-image">
            <input type="file" accept="image/*" id="who1Input" class="image-input">
            <h2 class="text-md font-bold text-[#00A0B4]" contenteditable="true">Engineers</h2>
          </div>
          <div class="flex items-center mb-4">
            <img id="who2" src="https://via.placeholder.com/64" alt="University Students" class="w-16 h-16 mr-4 editable-image">
            <input type="file" accept="image/*" id="who2Input" class="image-input">
            <h2 class="text-md font-bold text-[#00A0B4]" contenteditable="true">University Students</h2>
          </div>
        </div>
        <div>
          <div class="flex items-center mb-4">
            <img id="who3" src="https://via.placeholder.com/64" alt="Doctors" class="w-16 h-16 mr-4 editable-image">
            <input type="file" accept="image/*" id="who3Input" class="image-input">
            <h2 class="text-md font-bold text-[#00A0B4]" contenteditable="true">Doctors</h2>
          </div>
          <div class="flex items-center">
            <img id="who4" src="https://via.placeholder.com/64" alt="Scientists" class="w-16 h-16 mr-4 editable-image">
            <input type="file" accept="image/*" id="who4Input" class="image-input">
            <h2 class="text-md font-bold text-[#00A0B4]" contenteditable="true">Scientists</h2>
          </div>
        </div>
      </div>
      <p class="text-sm text-[#333]" contenteditable="true">
        <strong>If you do not have the combination team we can help you form one for your idea!!</strong>
      </p>
    </section>

    <!-- Event Details Section -->
    <section class="mb-8">
      <h3 class="text-lg font-bold text-[#00A0B4] mb-4" contenteditable="true">Event Details:</h3>
      <p class="text-sm text-left text-[#333]" contenteditable="true">
        📅 <strong>When:</strong> Oct 10–12, 2025 | Three‑day long weekend Hackathon<br>
        📍 <strong>Where:</strong> Plaksha University, Mohali<br>
        🎯 <strong>What:</strong> 3‑day challenge to build a working prototype
      </p>
    </section>

    <!-- Call to Action Section -->
    <section class="text-center mb-8 p-6 rounded-lg" style="background-color: #007878;">
      <h3 class="text-2xl font-bold text-white mb-4" contenteditable="true">Ready to Make a Difference?</h3>
      <div class="flex flex-col md:flex-row items-center justify-center gap-8 text-white">
        <div class="mb-4 md:mb-0">
          <p class="text-lg mb-2" contenteditable="true">
            1️⃣ Scan the QR code and fill the form
          </p>
          <!-- QR code image -->
          <img id="qrImg" src="https://via.placeholder.com/160" alt="QR Code" class="w-40 h-40 mx-auto bg-white p-2 rounded-lg editable-image">
          <input type="file" accept="image/*" id="qrInput" class="image-input">
          <a href="#" class="text-sm text-yellow-300 hover:underline mt-2 inline-block" contenteditable="true">Or use this link</a>
        </div>
        <div class="text-left">
          <p class="text-lg mb-2" contenteditable="true">
            2️⃣ Await our confirmation and team formation support. Each team should be of 3‑5 members having at least one medical professional, one engineer and one researcher/scientist.
          </p>
          <p class="text-lg" contenteditable="true">
            3️⃣ Bring your passion, ideas, and willingness to collaborate.
          </p>
        </div>
      </div>
    </section>

    <p class="text-center text-lg font-bold text-[#007878] mb-2" contenteditable="true">Be the spark that ignites lifesaving solutions!!</p>
    <p class="text-center text-[#00A0B4] text-md mb-6" contenteditable="true">Looking forward to building the future of healthcare with you.</p>

    <!-- Footer -->
    <footer class="mt-8 pt-4 border-t-2 border-[#00A0B4]">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4">
        <div class="flex items-center">
          <img id="contactIcon" src="https://via.placeholder.com/52" alt="Contact Icon" class="w-13 h-13 mr-4 editable-image">
          <input type="file" accept="image/*" id="contactIconInput" class="image-input">
          <p class="text-sm text-[#333]" contenteditable="true"><strong>For details or queries, contact: 9142595882, 9780120140</strong></p>
        </div>
        <div class="text-right text-sm text-[#333]" contenteditable="true">
          <p>[🏛️ Editable Space for adding logos of affiliated funding organizations]</p>
        </div>
      </div>
    </footer>
  </div>

  <script>
    // Helper to wire image inputs to update images when files are selected
    function setupImageEditing(imgId, inputId) {
      const imgEl = document.getElementById(imgId);
      const inputEl = document.getElementById(inputId);
      imgEl.addEventListener('click', () => inputEl.click());
      inputEl.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (ev) => {
            imgEl.src = ev.target.result;
          };
          reader.readAsDataURL(file);
        }
      });
    }
    // Setup images for editing
    const images = [
      ['logoImg','logoInput'],
      ['img1','img1Input'],
      ['img2','img2Input'],
      ['img3','img3Input'],
      ['icon1','icon1Input'],
      ['icon2','icon2Input'],
      ['icon3','icon3Input'],
      ['icon4','icon4Input'],
      ['icon5','icon5Input'],
      ['who1','who1Input'],
      ['who2','who2Input'],
      ['who3','who3Input'],
      ['who4','who4Input'],
      ['qrImg','qrInput'],
      ['contactIcon','contactIconInput']
    ];
    images.forEach(pair => setupImageEditing(pair[0], pair[1]));

    // Export to PDF functionality
    document.getElementById('exportBtn').addEventListener('click', async () => {
      const flyer = document.getElementById('flyer');
      // Use html2canvas to capture the flyer
      const canvas = await html2canvas(flyer, { scale: 2 });
      const imgData = canvas.toDataURL('image/png');
      const { jsPDF } = window.jspdf;
      // Determine orientation based on dimensions
      const pdf = new jsPDF('p', 'pt', 'a4');
      const pageWidth = pdf.internal.pageSize.getWidth();
      const pageHeight = pdf.internal.pageSize.getHeight();
      // Resize image to fit A4
      const imgWidth = pageWidth;
      const imgHeight = canvas.height * imgWidth / canvas.width;
      let position = 0;
      // If content overflows one page, handle multiple pages
      if (imgHeight > pageHeight) {
        let heightLeft = imgHeight;
        let y = 0;
        while (heightLeft > 0) {
          pdf.addImage(imgData, 'PNG', 0, y, imgWidth, imgHeight);
          heightLeft -= pageHeight;
          y -= pageHeight;
          if (heightLeft > 0) pdf.addPage();
        }
      } else {
        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
      }
      pdf.save('plaksha-medithon-2025.pdf');
    });
  </script>
</body>
</html>